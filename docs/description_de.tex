\documentclass[12pt]{article}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{authblk}
\usepackage[ngerman]{babel}
\usepackage{graphicx}
\usepackage{hyperref}
\usepackage{cite}
\usepackage{todonotes}
\usepackage{geometry}
\usepackage{siunitx}
\DeclareSIUnit{\peak}{\text{p}}
\usepackage{eurosym}

% Set page margins
\geometry{top=1in, bottom=1in, left=1in, right=1in}

\title{LIFT\\Logistics Infrastructure \& Fleet Transformation}
\author[1]{Brian Dietermann}
\author[1]{Anna Paper}
\author[1]{Philipp Rosner}

\affil[1]{Lehrstuhl für Fahrzeugtechnik, Technische Universität München}
\date{\today}

\begin{document}

% Title page
\maketitle

% Abstract
\begin{abstract}
Das Softwaretool LIFT dient zur Unterstützung des Planungsprozesses der Elektrifizierung von Flotten sowie des begleitenden Ausbaus des Energiesystems am Flottendepot.
Über eine grafische, webbasierte Benutzeroberfläche lassen sich der Ist-Zustand von Flotte und Depot sowie ein mögliches Elektrifizierungs- und Ausbauszenario definieren.
Basierend auf einer Energiesystem-Zeitschrittsimulation berechnet LIFT techno-ökonomische Kennzahlen für beide Szenarien und vergleicht diese.
Dadurch lassen sich ersten Erkenntnisse über den Effekt der beabsichtigten Maßnahmen treffen und bereits eine erste Planung der Depot-Erweiterung ableiten.
\end{abstract}
\newpage
\tableofcontents
\newpage

\section{Ausgangslage und Zielsetzung}
\label{sec:target}
Das Softwaretool LIFT wurde am Lehrstuhl für Fahrzeugtechnik der Technischen Universität München entwickelt, um die Elektrifizierung von Flotten und dem begleitenden Ausbau des Depot-Energiesystems inklusive Ladeinfrastruktur mit techno-ökonomischen Kennwerten zu unterstützen.
Ziel des Tools ist es hierbei, bereits in der frühen Planungsphase Effekte beabsichtigter Maßnahmen abschätzen zu können und dadurch eine Entscheidungsgrundlage für den weiteren Planungsprozess zu schaffen.

Bereits existierende, optimierungsbasierte Tools verfügen verglichen mit LIFT über eine realistischere Modellierung der Gegebenheiten und durch die integrierte Optimierung eine kostenoptimale Energiesystem-Auslegung.
Die Anwendung solcher Tools, die meist nur über ein Commandline-Interface und keine grafische Benutzeroberfläche verfügen, wird zusätzlich durch die dafür benötigte Datengrundlage, die oft erst aufwändig erhoben werden muss, das für die Parametrierung und Interpretation der Ergebnisse nötige Expertenwissen, sowie die lange Rechenzeit erschwert.
Für eine initiale Abschätzung, ob und wenn ja, welche Elektrifizierungs- und Ausbaustrategie Sinn ergibt, sind solche Tools somit nicht geeignet.
Ihr Anwendungsbereich liegt eher in der Detail-Planungsphase eines Elektrifizierungs- und Ausbauprojektes statt in der initialen Bewertung.
LIFT soll diese Lücke schließen und bei der initialen Bewertung einer möglichen Elektrifizierung unterstützen.
Dieser Schritt erfolgt zumeist von einem Flottenbetreiber noch vor dem Kontakt mit einem externen Planungs- und Umsetzungspartner oder in einem ersten Gespräch gemeinsam mit dem Partner.
Dazu muss das Tool im Gegensatz zu den zuvor beschriebenen Optimierungstools nur auf wenigen Eingabeparametern operieren, deren Parametrierung nur begrenztes Expertenwissen erfordert.
Für einen erfolgreichen Einsatz im direkten Planungsgespräch ist außerdem eine schnelle Berechnung der Ergebnisse sowie eine intuitiv verständliche, grafische Aufbereitung dieser nötig.

Dazu ermöglicht LIFT durch entsprechende Parametrierung die Definition der Ist-Situation (\textit{Baseline} Szenario) von Depot und Flotte sowie eines möglichen Elektrifizierungs-/ Erweiterungsszenario (\textit{Expansion} Szenario).
Für beide Szenarien wird mit den definierten Parametern dann eine Zeitschrittsimulation des Depots und der Flotte ausgeführt, auf deren Grundlage dann alle weiteren techno-ökonomischen Kennzahlen und der Vergleich der beiden Szenarien erstellt wird.

Mit diesen Ergebnissen kann dann die Entscheidung, ob eine weitere Planung der Flottenelektrifizierung sowie des begleitenden Ausbaus des Energiesystems und der Ladeinfrastruktur am Depot erfolgen soll, getroffen werden.
Um die zuvor beschriebenen Anforderungen erfüllen zu können, arbeitet LIFT mit Vereinfachungen und Annahmen, die in einer frühen Planungsphase der Elektrifizierung für eine generelle Bewertung noch zutreffend sind.
Für eine weitere, detaillierte Planung und Auslegung des Energiesystems sind die getroffenen Vereinfachungen jedoch nicht mehr zielführend, da dadurch die Ergebnisse zu stark beeinflusst werden.
Hierfür wird, wie bereits zuvor vorgestellt und beschrieben, die Verwendung eines detaillierteren Tools empfohlen, das auf einer umfangreicheren Datengrundlage basiert und somit realitätsnähere Ergebnisse liefert, die dann direkt in die Planung einfließen können.

\section{Verwendung und grafische Benutzeroberfläche}
\label{sec:gui}
LIFT ist ein in Python programmiertes Tool, das optional über eine grafische Benutzeroberfläche (GUI) verfügt.
Diese basiert auf der streamlit-Bibliothek und kann über einen Webbrowser aufgerufen werden.
Die Installation von LIFT, entweder auf dem eigenen Computer oder auf einem Server ist im \texttt{README} des Software-Repository's beschrieben.
Darin wird ebenfalls gezeigt, wie der Berechnungsalgorithmus von LIFT losgelöst von der GUI für eine skalierbare Bewertung multipler Szenarien eingesetzt werden kann.
Dieses Dokument beschränkt sich jedoch auf die Verwendung von LIFT über die integrierte und in \autoref{fig:gui} dargestellte GUI\@.

\begin{figure}[h!]
    \centering
    \includegraphics[width=1.0\textwidth]{gui}
    \caption{Die GUI von LIFT in Version 0.9.1a1 mit der Seitenleiste zur Eingabe der Szenario-Parameter auf der linken Seite und der Darstellung von exemplarischen Ergebnissen im Hauptbereich.}
    \label{fig:gui}
\end{figure}

Diese ist in zwei Bereiche aufgeteilt.
Die linke Seitenleiste dient zur Definition der Eingabeparameter für die anschließenden Berechnungen.
Hierbei wird nach Parametern für das Energiesystem des Standorts, wirtschaftlichen Eingangsgrößen und den Definitionen der Flotte und deren Ladeinfrastruktur unterschieden.
Für die einzelnen Eingabeparameter stehen in der GUI Hilfetexte zur Verfügung, in denen der jeweilige Parameter genauer erläutert wird.
Der Hauptbereich der GUI zeigt nach erfolgreicher Berechnung die Ergebnisse an.
Dabei werden die berechneten Kennwerte jeweils für die beiden definierten Szenarien verglichen, um so intuitiv Rückschlüsse auf die Effekte der untersuchten Maßnahmen zu erlauben.
Die den Ergebnissen zugrundeliegende Methodik wird im weiteren Verlauf in \autoref{sec:methods} dieses Dokuments im Detail beschrieben.
Für die angezeigten Ergebnisse und Grafiken sind ebenfalls erläuternde Hilfetexte vorhanden.
Die GUI ist in den Sprachen Deutsch und Englisch verfügbar.


\section{Methodik}
\label{sec:methods}

Dieses Kapitel beschreibt die dem Tool LIFT zugrundeliegende Methodik.
Wie bereits beschrieben, basiert LIFT auf einigen Annahmen, die sich in methodische Annahmen und quantitative Annahmen unterteilen lassen.
Als methodische Annahmen werden inhärente Bestandteile der zugrundeliegenden Berechnungsmethodik bezeichnet.
Diese werden in diesem Kapitel erläutert.
Quantitative Annahmen beschreiben lediglich die Parametrierung des Berechnungsalgorithmus' und können bei einer skalierten Nutzung desselben nutzerspezifisch angepasst werden.
Sie sind somit nur bei einer Benutzung von LIFT durch die GUI zutreffend und separat in \autoref{sec:defaultvalues} aufgeführt.

\subsection{Energiesystem}
\label{subsec:energysystem}

Das von LIFT abgebildete Energiesystem besteht aus verschiedenen Komponenten, von denen bis auf Ladeinfrastruktur und Fahrzeuge genau ein Element in definierbarer Größe vorhanden ist.
Im Energiesystem von LIFT existieren folgende Komponententypen:
\begin{itemize}
    \item \textbf{Netzanschluss\\}
    Der Netzanschluss stellt die Verbindung des lokalen Energiesystems zum öffentlichen Stromnetz dar und dient somit sowohl als Energiequelle (Bezug aus dem Netz) als auch -senke (Einspeisung in das Netz).
    \item \textbf{PV-Anlage\\}
    Die PV-Anlage dient zur Erzeugung lokaler erneuerbarer Energie und wird somit als Energiequelle modelliert.
    \item \textbf{Stationärspeicher\\}
    Im Stationärspeicher stellt einen stationären batterieelektrischen Speicher dar.
    \item \textbf{Standortverbrauch\\}
    Der Standortverbrauch beinhaltet den Verbrauch elektrischer Energie des Standorts (Gebäude, Werkstätten sowie sonstige Infrastruktur) exklusive der Energie für Ladeinfrastruktur \text{bzw.} Mobilität und wird im Energiesystem als Energiesenke modelliert.
    \item \textbf{Ladeinfrastruktur\\}
    In LIFT können verschiedene Typen von Ladeinfrastruktur modelliert werden.
    Von jedem Typen können eine unterschiedliche Anzahl Ladepunkte definiert werden.
    \item \textbf{Flotte\\}
    Eine Flotte setzt sich aus unterschiedlichen Subflotten zusammen, in der jeweils Fahrzeuge des gleichen Typs \test{bzw.} Nutzungsprofils zusammengefasst werden.
    Innerhalb der gleichen Subflotte können sowohl konventionell als auch batterieelektrisch angetriebene Fahrzeuge definiert werden.
    Jede Subflotte kann aus einer unterschiedlichen Anzahl Fahrzeuge bestehen.
\end{itemize}

\subsection{Konzept}
\label{subsec:concept}

Den Kern von LIFT stellt eine Zeitschrittsimulation dar, die die Energieflüsse im Energiesystem und der Flotte des Depots simuliert.
In \autoref{subsec:sim_calc} erfolgt eine detaillierte Beschreibung der Simulation der einzelnen Komponenten.
Dabei wird sowohl auf die dabei getroffenen methodischen Annahmen und Vereinfachungen als auch die Berechnung der für die einzelnen Komponenten entstehenden Kosten und Emissionen eingegangen.

Basierend darauf werden anschließend techno-ökonomische Kennzahlen berechnet, die für die Bewertung des Szenarios herangezogen werden können.
Anschließend werden die Simulationsergebnisse und zuvor berechnete Kosten und Emissionen auf den Projektzeitraum $T_{prj}$, der den Simulationszeitraum üblicherweise deutlich übersteigt, extrapoliert.
Der Ursprung der wirtschaftlichen und ökologischen Kennzahlen lässt sich in zwei Kategorien aufteilen: Investitionen und Betrieb.
Da die Investitionskosten direkt von den Eingangsparametern abhängen, können diese unabhängig von der Zeitschrittsimulation für die einzelnen Komponenten berechnet werden.
Die Betriebskosten der Komponenten ergeben sich jedoch erst durch die simulierten Energieflüsse und sind somit auf die Ergebnisse der Zeitschrittsimulation angewiesen.
Im gegensatz zu den Kostenwerten erfolgt die Berechnung der technischen Kennzahlen des Systems auf der Ebene des Gesamtsystems und nicht komponentenspezifisch.
Für die Berechnung der technischen Kennzahlen werden die aus der Simulation erhaltenen Energiewerte verwendet.
In den folgenden Kapiteln wird zuerst die Berechnung der aggregierten technischen (\autoref{subsec:kpi_tech}), wirtschaftlichen (\autoref{subsec:kpi_econ}) und ökologischen (\autoref{subsec:kpi_ecol}) Kennzahlen aufgezeigt.

\subsection{Zeitschrittsimulation und komponentenweise Kosten- und Emissionsberechnung}
\label{subsec:sim_calc}

Die in LIFT verwendete Zeitschrittsimulation simuliert die Energieflüsse im Energiesystem des Depots und der zugehörigen Flotte beginnend ab $T_{start}$ über einen Simulationszeitraum $T_{sim}$ mit einem Zeitschritt von $T_{step}$.
Wirkungsgrade sind in der Simulation nicht berücksichtigt.
Für die weitere Berechnung werden die folgenden Ergebnisse der Simulation herangezogen:
\begin{itemize}
    \item die aus dem öffentlichen Netz bezogene ($E^{Netz}_{Bezug}$) und die ins öffentliche Netz eingespeiste Energie ($E^{Netz}_{Einspeisung}$)
    \item die Lastspitze der aus dem Netz bezogenen Energie ($P^{Netz}_{max}$)
    \item die potenziell erzeugbare ($E^{PV}_{Pot}$) sowie die nicht abgerufene \text{bzw.} gekappte PV-Energie ($E^{PV}_{Kappung}$)
    \item die vom Standortverbrauch benötigte Energie ($E^{Standort}_{gesamt}$)
    \item die von der Flotte über die installierte Ladeinfrastruktur am Depot geladene Energie ($E^{Flotte}_{Depot}$)
    \item die von der Flotte während der Fahrt geladene Energie ($E^{Flotte}_{On-Route}$)
    \item die von den Fahrzeugen zurückgelegten Distanzen aufgeteilt nach Subflotte und Antriebsart ($d^{f}_{a}$ mit Subflotte $f$ und Antriebsart (konventionell oder elektrisch) $a$)
\end{itemize}

In einem ersten Schritt werden diese vom Simulationszeitraum linear auf einen Zeitraum von einem Jahr skaliert.
Dabei wird die Annahme getroffen, dass im Simulationszeitraum alle relevanten Charakteristika abgebildet werden.
Dazu zählen beispielsweise saisonale Schwankungen in der Auslastung der Fahrzeugflotte oder bei der verfügbaren PV-Energie.
Wird LIFT nicht über die GUI verwendet, ist diese Annahme bei der Definition des Simulationszeitraums zu beachten.

Die Zeitschrittsimulation selbst simuliert alle im Energiesystem vertretenen Komponenten.
Die folgenden Abschnitte erklären detailliert die Annahmen, die für die einzelnen Komponenten getroffen wurden und wie für diese Komponenten Kosten und Emissionen berechnet werden.
Dabei werden basierend auf der Simulation die jährlichen Betriebskosten berechnet und unabhängig von der Simulation die einmalig auftretenden Investitionskosten einer Komponente mit der vorgegebenen Größe.
Das Vorgehen für die Berücksichtigung der Lebensdauer und von Ersatzinvestitionen ist für alle Komponenten identisch und wird in \autoref{subsec:kpi_econ} beschrieben.

Für die Errichtung \text{bzw.} beim Kauf einer Komponente $k$ entstehen bis auf den Standortverbrauch sowohl Kosten $C^k_{Invest, einmalig}$ als auch Emissionen, jeweils in Abhängigkeit der Dimensionierung der Komponente $S^k$ sowie den spezifischen Kosten $c^k_{Invest}$ und Emissionen $co2^k_{Invest}$ pro Größeneinheit der Komponente.
Sowohl die verursachten Kosten also auch Emissionen werden durch Multiplikation der spezifischen Kosten \text{bzw.} Emissionen mit der Dimensionierung der Komponente berechnet:
\begin{equation}
    Y^k_{Invest, einmalig} = S^k \cdot y^k_{Invest} \quad \text{mit } Y \in \{C, CO2\} \text{ und } y \in \{c, co2\}
    \label{eq:capex_capem}
\end{equation}

\subsubsection{Standortverbrauch}
\label{subsubsec:sitedemand}
Der Standortverbrauch modelliert den Energieverbrauch des Gebäudes und sonstiger Infrastruktur des Depots exklusive möglicherweise vorhandenen Ladepunkte.
Für den Standortverbrauch werden Standardlastprofile des BDEW verwendet, die auf den jährlichen Energieverbrauch des Standorts skaliert werden.
Aufgrund ihrer stündlichen Auflösung und der ihnen zugrunde liegenden Methodik sind sie jedoch nur bedingt geeignet, einen realen Lastgang nachzubilden, da sie eine stark geglättete Charakteristik aufweisen.
Das verfälscht die in der Simulation auftretenden Lastspitzen am Netzanschlusspunkt, die normalerweise gemittelt über einen 15-minütigen Zeitraum bestimmt werden.
Da die Zielsetzung von LIFT jedoch darin besteht, mit einer möglichst geringen Datengrundlage erste Ergebnisse zu erzielen, kann in diesem Schritt des Planungsprozesses mit Standardlastprofilen gearbeitet werden.
In weiteren Planungsphasen ist davon jedoch abzuraten, um ein realistischeres Verhalten abbilden zu können.
Für den Energieverbrauch des Standorts fallen nur indirekt Kosten und Emissionen durch die aus der PV-Anlage und über den Netzanschlusspunkt bezogene Energie an.
Diese sind somit in den beiden genannten Komponenten abgebildet.

\subsubsection{Netzanschluss}
\label{subsubsec:grid}
Die Dimensionierung des Netzanschlusses wird in kW angegeben, da Blindleistung in der Simulation nicht berücksichtigt wird.\\\\
\textbf{Investitionskosten und -emissionen}\\
Für die Errichtung des Netzanschlusspunktes mit der in der GUI definierten Größe $S^{Netz}$ entstehen sowohl Kosten $C^{Netz}_{Invest, einmalig}$ als auch Emissionen $CO2^{Netz}_{Invest, einmalig}$.
Diese werden nach \autoref{eq:capex_capem} berechnet.
Die angenommenen spezifischen Kosten $c^{Netz}_{Invest}$, spezifischen Emissionen $co2^{Netz}_{Invest}$ und die Lebensdauer $ls^{Netz}$ sind in \autoref{subsubsec:default_grid} aufgeführt.\\\\
\textbf{Betriebskosten und -emissionen}\\
In Abhängigkeit des Energiedurchsatzes in Bezugs- und Einspeiserichtung sowie der Spitzenlast fallen Betriebskosten für den Netzanschlusspunkt an:
\begin{equation}
    \begin{aligned}
    C^{Netz}_{Betrieb, jrl} = & \, E^{Netz}_{Bezug} \cdot c^{Netz}_{Bezug} \\
    & + E^{Netz}_{Einspeisung} \cdot c^{Netz}_{Einspeisung} \\
    & + P^{Netz}_{max} \cdot c^{Netz}_{Spitzenlast}
    \end{aligned}
    \label{eq:opex_grid}
\end{equation}
Die spezifischen Kosten für den Bezug ($c^{Netz}_{Bezug}$ und die Einspeisung ($c^{Netz}_{Einspeisung}$ sowie die aufgetretene Spitzenlast ($c^{Netz}_{Spitzenlast}$ lassen sich über die GUI definieren.
Die spezifischen Emissionen ($co2^{Netz}_{Bezug}$) hingegen sind als Annahme in der GUI hinterlegt und im Anhang aufgeführt.
Für verkaufte Energie entstehen weder positive noch negative Emissionen.
Die Betriebsemissionen berechnen sich analog zu \autoref{eq:opex_grid}:
\begin{equation}
    CO2^{Netz}_{Betrieb, jrl} = E^{Netz}_{Bezug} \cdot co2^{Netz}_{Bezug}
    \label{eq:opem_grid}
\end{equation}


\subsubsection{PV-Anlage}
\label{subsubsec:pv}
Die potenzielle PV-Leistung wird für den angegebenen Standort und die optimale Ausrichtung einer nicht-beweglichen PV-Anlage in stündlicher Auflösung von PVGIS für das Jahr 2023 abgerufen.
Neuere Daten oder Daten mit einer höheren zeitlichen Auflösung sind bei diesem Anbieter nicht verfügbar.\\\\
\textbf{Investitionskosten und -emissionen}\\
Für die Errichtung der PV-Anlage mit der in der GUI definierten Größe $S^{PV}$ entstehen sowohl Kosten $C^{PV}_{Invest, einmalig}$ als auch Emissionen $CO2^{PV}_{Invest, einmalig}$.
Diese werden nach \autoref{eq:capex_capem} berechnet.
Die angenommenen spezifischen Kosten $c^{PV}_{Invest}$, spezifischen Emissionen $co2^{PV}_{Invest}$ und die Lebensdauer $ls^{PV}$ sind in \autoref{subsubsec:default_pv} aufgeführt.\\\\
\textbf{Betriebskosten und -emissionen}\\
Während des Betriebs entstehen weder Kosten noch Emissionen.

\subsubsection{Stationärspeicher}
\label{subsubsec:ess}
Der Speicher wird mit einer Leistungslimitation von 0,5 C sowohl in Lade- als auch Entladerichtung betrieben.
Dieser Wert entspricht gängigen Modellen für Stationärspeicher.
Bei einem 10 kWh Speicher entspricht das einer maximalen Leistung von 5 kW.
Die Betriebsstrategie des Speichers sieht eine sogenannte Nulllastregelung am Netzanschlusspunkt vor.
Dabei versucht der Speicher im lokalen Netz überschüssige Energie, die durch die PV-Anlage erzeugt, aber nicht lokal verbraucht werden kann, einzuspeichern.
Nur, wenn die maximale Ladeleistung des Speichers überschritten wird oder er aufgrund eines zu hohen Ladezustands keine weitere Energie einspeichern kann, wird die überschüssige Energie über den Netzanschlusspunkt ins öffentliche Stromnetz eingespeist.
Sollte der Bedarf im lokalen Energiesystems des Depots nicht aus lokalen Quallen gedeckt werden können, wird zuerst der Speicher entladen, bevor zusätzliche Energie aus dem öffentlichen Netz bezogen wird.\\\\
\textbf{Investitionskosten und -emissionen}\\
Für die Errichtung des Stationärspeichers mit der in der GUI definierten Größe $S^{Speicher}$ entstehen sowohl Kosten $C^{Speicher}_{Invest, einmalig}$ als auch Emissionen $CO2^{Speicher}_{Invest, einmalig}$.
Diese werden nach \autoref{eq:capex_capem} berechnet.
Die angenommenen spezifischen Kosten $c^{Speicher}_{Invest}$, spezifischen Emissionen $co2^{Speicher}_{Invest}$ und die Lebensdauer $ls^{Speicher}$ sind in \autoref{subsubsec:default_ess} aufgeführt.\\\\
\textbf{Betriebskosten und -emissionen}\\
Während des Betriebs entstehen weder Kosten noch Emissionen.


\subsubsection{Ladeinfrastruktur}
\label{subsubsec:ci}
LIFT unterstützt unterschiedliche Typen von Ladeinfrastruktur.
Die in der GUI vordefinierten Ladepunkttypen sind in \autoref{subsubsec:default_ci} aufgeführt.
Von jedem Ladepunkttyp können mehrere Ladepunkte existieren.
Die gesamte Ladeinfrastruktur unterliegt einem Lastmanagement.
Dieses kann entweder statisch oder dynamisch ausgelegt sein.
Das statische Lastmanagement begrenzt in jedem Zeitschritt die für die gesamte Ladeinfrastruktur typübergreifend zur Verfügung stehende Ladeleistung auf einen in der GUI definierten Wert.
Dieser wird normalerweise bestimmt, indem die Spitzenlast des Standortverbrauchs von der maximalen Leistung des Netzanschlusspunktes abgezogen wird.
Für große Simulationszeitschritte ($>\SI{15}{\minute}$) verhält sich das statische Lastmanagement nicht realistisch.
Grund hierfür ist die starke Glättung des Standortlastgangs, dessen Lastspitzen normalerweise maßgeblich zur Definition der maximalen Leistung des statischen Lastmanagements berücksichtigt werden.
Das dynamische Lastmanagement berechnet für jeden Zeitschritt die für die Flotte zur Verfügung stehende Leistung.
Dazu wird die maximale Leistung des Netzanschlusses, die aktuell zur Verfügung stehende PV-Leistung und die maximale Leistung des Stationärspeichers unter Berücksichtigung des Ladezustands addiert und von diesem Wert der Standortverbrauch subtrahiert.
Die verbleibende Leistung steht der Ladeinfrastruktur zur Verfügung.\\\\
\textbf{Investitionskosten und -emissionen}\\
Für die Errichtung eines einzelnen Ladepunktes $n$ vom Typ $m$ entstehen die in der GUI definierten Kosten $C^{\text{Ladepunkt}, m, n}_\text{Invest, einmalig}$.
Zur Berechnung der Investitionskosten aller Ladepunkte eines Typs $C^{\text{Ladepunkt}, m, n}_\text{Invest, einmalig}$ werden die Kosten der einzelnen Ladepunkte desselben Typs aufsummiert.
Eine Aggregation der verschiedenen Ladepunkttypen ergibt aufgrund der Möglichkeit unterschiedlicher Lebensdauern je nach Typ keinen Sinn.
Die bei der Herstellung eines Ladepunkts entstehenden Emissionen $CO2^{\text{Ladepunkt}, m n}_\text{Invest, einmalig}$ sind in \autoref{subsubsec:default_ci} aufgeführt.
Die Berechnung der Emissionen aller Ladepunkte eines Typs erfolgt analog zu den Kosten.\\\\
\textbf{Betriebskosten und -emissionen}\\
Während des Betriebs entstehen weder Kosten noch Emissionen, da die Energie vom lokalen Energiesystem bereitgestellt wird.


\subsubsection{Flotte}
\label{subsubsec:fleet}
Eine Flotte besteht aus mehreren Subflotten, die jeweils Fahrzeuge des gleichen Typs beinhalten.
Die Mobilitätsprofile einer Subflotte beinhalten eine Zeitreihe, in der die Anwesenheit am Depot sowie der Energieverbrauch von Fahrten definiert wird.
Diese Profile werden stochastisch gesamplet.
Die maximale Ladeleistung eines Fahrzeugs berechnet sich aus dem fahrzeugspezifischen Limit und dem Limit des für das Fahrzeug definierten Ladepunkts.
Beide Werte lassen sich in der GUI einstellen.
Je nach Konfiguration sind sowohl die Anzahl zur Verfügung stehender Ladepunkte als auch die im Zeitschritt zur Verfügung stehende Ladeleistung eine knappe Resource.
Aus diesem Grund werden die Fahrzeuge priorisiert und erhalten gemäß dieser Priorisierung Zugriff auf Ladeinfrastruktur und Ladeleistung.
Dazu wird für jedes Fahrzeug zu jedem Zeitpunkt der Simulation eine Flexibilitätszeit errechnet.
Diese gibt an, in wie vielen Zeitschritten das Fahrzeug spätestmöglich mit dem Laden beginnen muss, um die nächste Fahrt ohne On-Route Laden erfüllen zu können.
Das Fahrzeug mit der geringsten Flexibilitätszeit erhält die höchste Priorität bei der Vergabe der Ladepunkte und Ladeleistung.
Jedes Fahrzeug ist nur mit dem in der GUI definierten Ladepunkt kompatibel.
Ist kein Ladepunkt dieses Typs mehr vorhanden, kann das Fahrzeug in diesem Zeitschritt nicht laden.
Aufgrund des Priorisierungsalgorithmus' können Fahrzeuge in jedem Zeitschritt einem anderen Ladepunkt zugeordnet sein, was in der Realität mit einem hohen manuellen Aufwand für das Umstecken und -parken der Fahrzeuge verbunden wäre.
Fahrzeuge, deren Ladezustand während einer Fahrt auf oder unter \SI{0}{\percent} fällt, werden auf der Fahrt nachgeladen, jedoch nur soweit, dass sie mit einem Ladezustand von exakt \SI{0}{\percent} wieder am Depot ankommen.\\\\
\textbf{Investitionskosten und -emissionen}\\
Beim Kauf eines einzelnen Fahrzeugs $n$ in der Subflotte $f$ entstehen die in der GUI definierten Kosten $C^{\text{Fahrzeug}, f, n}_\text{Invest, einmalig}$.
Zur Berechnung der Investitionskosten aller Fahrzeuge einer Subflotte $C^{\text{fahrzeug}, f, n}_\text{Invest, einmalig}$ werden die Kosten der einzelnen Fahrzeuge derselben Subflotte aufsummiert.
Eine Aggregation der verschiedenen Subflotten ergibt aufgrund der Möglichkeit unterschiedlicher Lebensdauern je nach Subflotte keinen Sinn.
Die bei der Herstellung eines Fahrzeugs entstehenden Emissionen $CO2^{\text{Fahrzeug}, f n}_\text{Invest, einmalig}$ sind im \autoref{subsubsec:default_fleet} aufgeführt.
Die Berechnung der Emissionen aller Fahrzeuge einer Subflotte erfolgt analog zu den Kosten.\\\\
\textbf{Betriebskosten und -emissionen}\\
Bei der Berechnung der Betriebskosten und Emissionen muss nach der Antriebsart des Fahrzeugs unterschieden werden.
Für konventionell angetriebene Fahrzeuge einer Subflotte $f$ berechnen sich die Kosten zu:
\begin{equation}
    C^{\text{Fahrzeuge}, f, \text{ICEV}}_{Betrieb, jrl} = d^{f}_{\text{ICEV}} \cdot \left(c^{f, \text{ICEV}}_\text{Wartung} + c^{f, \text{ICEV}}_\text{Maut} \cdot x^{f, \text{ICEV}}_{Maut} + c^{Diesel} \cdot v^{f, \text{icev}} / 100\right)
    \label{eq:opex_icev}
\end{equation}
Dabei bezeichnet $d^{f}_{\text{ICEV}}$ die gefahrene Distanz der Fahrzeuge der Subflotte, $c^{f, \text{ICEV}}_\text{Wartung}$ die spezifischen Wartungskosten pro Kilometer, $c^{f, \text{ICEV}}_\text{Maut}$ die spezifischen Mautkosten pro Kilometer, $x^{f, \text{ICEV}}_{Maut}$ den Anteil der mautpflichtigen Distanz an der Gesamtdistanz, $c^{Diesel}$ die spezifischen Dieselkosten pro Liter und $v^{f, \text{icev}}$ den spezifischen Dieselverbrauch der Fahrzeuge auf \SI{100}{\kilo\meter}.
Bis auf den Anteil der mautpflichtigen Strecke und den spezifischen Diesel- und Mautkosten, die in der GUI eingestellt werden können, werden alle Parameter mit vordefinierten Werten parametriert, die in \autoref{subsubsec:default_fleet} aufgeführt sind.
Die im Betrieb entstehenden Emissionen der Dieselfahrzeuge lassen sich aus dem benötigten Dieselvolumen und den spezifischen Emissionen für Diesel pro Liter $co2^{Diesel}$ (vordefiniert und in \autoref{subsubsec:default_fleet} aufgeführt) berechnen:
\begin{equation}
    CO2^{\text{Fahrzeuge}, f, \text{ICEV}}_{Betrieb, jrl} = d^{f}_{\text{ICEV}} \cdot v^{f, \text{icev}} / 100 \cdot co2^{Diesel}
    \label{eq:opem_icev}
\end{equation}
Für batterieelektrisch angetriebene Fahrzeuge einer Subflotte $f$ berechnen sich die Kosten zu:
\begin{equation}
    C^{\text{Fahrzeuge}, f, \text{ICEV}}_{Betrieb, jrl} = d^{f}_{\text{BEV}} \cdot \left(c^{f, \text{BEV}}_\text{Wartung} + c^{f, \text{BEV}}_\text{Maut} \cdot x^{f, \text{BEV}}_{Maut}\right)
    \label{eq:opex_bev}
\end{equation}
Emissionen treten für batterieelektrische Fahrzeuge nicht auf.
Die beim On-Route laden entstehenden Kosten und Emissionen werden lediglich auf Flottenebene berechnet.
\begin{equation}
    C^{Flotte}_{Betrieb, jrl, On-Route} = E^{Flotte}_{On-Route} \cdot c^{Flotte}_{On-Route}
    \label{eq:opex_on-route}
\end{equation}
Für die Kosten werden die in der GUI definierten spezifischen On-Route Ladekosten $c^{Flotte}_{On-Route}$ verwendet, während für die Berechnung der beim On-Route Laden verursachten  Emissionen die spezifischen Emissionen des öffentlichen Netzes herangezogen werden.
\begin{equation}
    CO2^{Flotte}_{Betrieb, jrl, On-Route} = E^{Flotte}_{On-Route} \cdot co2^{Netz}_{Betrieb}
    \label{eq:opem_on-route}
\end{equation}


\subsection{Technische Kennzahlen}
\label{subsec:kpi_tech}

Die technischen Kennzahlen dienen als Anhaltspunkte, ob sich die definierten Größen für Netzanschluss, PV-Anlage und Stationärspeicher sowie die gewählte Ladeinfrastruktur in einem für das System vorteilhaften Rahmen bewegen.

Die \textbf{Eigenverbrauchsquote} $\gamma_{Eigenverbrauch}$ gibt an, welcher Anteil der potenziell lokal erzeugbaren PV-Energie am Standort selbst verbraucht wurde.
Dazu zählen der Standortverbrauch und die am Standort in die Fahrzeuge geladene Energie.
Ein zu hoher Eigenverbrauch deutet meist auf eine für den Verbrauch am Standort zu klein dimensionierte PV-Anlage hin.
Die Eigenverbrauchsquote berechnet sich zu:
\begin{equation}
    \gamma_{Eigenverbrauch} = 1 - \frac{E^{PV}_{Kappung} + E^{Netz}_{Einspeisung}}{E^{PV}_{Pot}}
    \label{eq:selfconsumption}
\end{equation}\\

Der \textbf{Autarkiegrad} $\gamma_{Autarkie}$ gibt an, welcher Anteil der lokal verbrauchten Energie am Standort selbst, im Fall von LIFT lediglich über die PV-Anlage, erzeugt wurde.
Zur lokal verbrauchten Energie zählen der Standortverbrauch und die am Standort in die Fahrzeuge geladene Energie.
Ein zu hoher Autarkiegrad deutet meist auf eine für den Verbrauch am Standort zu groß dimensionierte PV-Anlage hin.
Der Autarkiegrad berechnet sich zu:
\begin{equation}
    \gamma_{Autarkie} = \frac{E^{PV}_{Pot} - E^{PV}_{Kappung} - E^{Netz}_{Einspeisung}}{E^{Flotte}_{Depot} + E^{Standort}_{gesamt}}
    \label{eq:selfsufficiency}
\end{equation}

Eine hohe Eigenverbrauchsquote führt normalerweise zu einem niedrigen Autarkiegrad und umgekehrt.
Zu einem gewissen Grad lässt sich dieser Zielkonflikt durch die Verwendung eines Stationärspeichers kompensieren.\\

Der Wert \textbf{Heim-Laden} gibt an, welcher Anteil der von der Flotte insgesamt geladenen Energie am Depot geladen wurde.
Ein geringer Anteil an am Depot geladener Energie deutet auf zu wenige Ladepunkte \text{bzw.} Ladepunkte mit zu geringer Ladeleistung oder eine Limitation durch einen zu geringen Netzanschluss hin.
Da meistens die Energiekosten am Depot im Vergleich zum On-Route Laden geringer ausfallen, ist hier ein möglichst hoher Wert anzustreben.

\begin{equation}
    \gamma_{Heim-Laden} = \frac{E^{Flotte}_{Depot}}{E^{Flotte}_{Depot} + E^{Flotte}_{On-Route}}
    \label{eq:homecharging}
\end{equation}

\subsection{Wirtschaftliche Kennzahlen}
\label{subsec:kpi_econ}

Bei der Berechnung der wirtschaftlichen Kennzahlen wird zwischen Investitions- und Betriebskosten unterschieden.
Während Investitionskosten immer am Anfang eines Jahres auftreten, fallen Betriebskosten erst am Ende des Jahres an.
Für jedes Jahr im betrachteten Projektzeitraum werden beide Kostenarten getrennt berechnet und anschließend diskontiert.
Der Diskontierungsfaktor $v^j$ für das Jahr $j$ berechnet sich für eine Abzinsungsrate $r$ zu
\begin{equation}
    v^j = \frac{1}{\left(1 + r\right)^{j-z}}, \quad \text{mit } z =
    \begin{cases}
        1 & \text{Investitionskosten}\\
        0 & \text{Betriebskosten}
    \end{cases}
    \text{ und }
    j \in \{1, 2, \dots\}
    \label{eq:discounting}
\end{equation}
Die initialen Investitionskosten für eine Komponente entstehen am Anfang des Projektzeitraums, also am Beginn des ersten Jahres.
Nach Ablauf der Lebensdauer der Komponente wird dann eine entsprechende Ersatzinvestition getätigt.
Damit ergeben sich die Zeitpunkte der Investitionen zu den Anfängen der Jahre $n \cdot ls_k, \quad n \in \{0, 1, 2, \dots\}$.
Unter der Annahme, dass sich der Wertverlust einer Komponente über deren Lebensdauer linear verhält, ergibt sich am Ende der Projektlaufzeit der Restwert
\begin{equation}
    C^{k}_\text{Restwert} = \begin{cases}
    -C^{k}_\text{Invest, einmalig} \cdot \left( 1 - \frac{(T_{prj} \bmod \text{ls})}{\text{ls}} \right) & \text{if } T_{prj} \bmod \text{ls} \neq 0 \\
    0 & \text{if } T_{prj} \bmod \text{ls} = 0
    \end{cases}
    \label{eq:salvage}
\end{equation}
Der so berechnete Restwert wird am Beginn des auf den Projektzeitraum folgenden Jahres verbucht.
Nach der zuvor gegebenen Definition wird der Restwert als negative Kosten dargestellt.
Deshalb gilt:
\begin{equation}
    C^{k}_{Restwert} \le 0 \quad \forall k
    \label{eq:neg_salvage}
\end{equation}
Damit ergeben sich für eine Komponente $k$ die zwei Kostenvektoren $C^k_\text{Invest}$ und $C^k_\text{Betrieb}$:
\begin{equation}
    C^k_\text{Invest} =
    \begin{pmatrix}
        C^k_\text{Invest, einmalig}\\0\\\vdots\\C^k_\text{Invest, einmalig}\\0\\\vdots\\C^k_\text{Restwert}
    \end{pmatrix},
    \quad
    C^k_\text{Betrieb} =
    \begin{pmatrix}
        C^k_\text{Betrieb, jrl}\\C^k_\text{Betrieb, jrl}\\\vdots\\C^k_\text{Betrieb, jrl}\\0
    \end{pmatrix}
    \quad
    \text{mit }
    C^k_\text{Invest}, C^k_\text{Betrieb} \in \mathbb{R}^{T_{prj} + 1 \times 1}
    \label{eq:cost_vectors}
\end{equation}
Jährliche Betriebskosten $C^k_\text{Betrieb, jrl}$ treten dabei jedes Jahr unverändert auf.
Lediglich im letzten Eintrag des Vektors, der das Jahr nach der Projektlaufzeit darstellt, treten keine Kosten mehr auf.
Dieser Eintrag dient lediglich der Restwertgutschrift.

Die diskontierten Kostenvektoren ergeben sich somit aus \autoref{eq:discounting} und\autoref{eq:cost_vectors} zu
\begin{equation}
    C^k_{u\text{, diskontiert}} =
    C^k_u
    \circ
    \begin{pmatrix}
        v^1_u\\
        v^2_u\\
        \vdots\\
        v^{T_{prj}+1}_u\\
    \end{pmatrix}
    \quad
    \text{mit }
    u \in \{\text{Invest}, \text{Betrieb}\}
    \label{eq:cost_vectors_discounted}
\end{equation}
Diese beiden Vektoren werden als Grundlage für die Kostendarstellung in den Ergebnissen verwendet.
Entweder als Zeitreihe, wie im Fall des Gesamtkostendiagramms, in dem die Gesamtkosten über die Projektlaufzeit aufgetragen sind, oder bereits aufsummiert, wie zur Berechnung der Projektgesamtkosten.

\subsection{Ökologische Kennzahlen}
\label{subsec:kpi_ecol}

Die ökologischen Kennzahlen werden analog zu den wirtschaftlichen Kennzahlen berechnet.
Jedoch entfällt bei der Berechnung der ökologischen Kennzahlen die Diskontierung.

\section{Standardwerte}
\label{sec:defaultvalues}
\subsection{Simulationsparameter}
\label{subsec:default_sim}
$T^{sim}_{Start}$: 01.01.2023 00:00 +01:00\\
$T^{sim}_{Dauer}$: 365 Tage\\
$T^{sim}_{Zeitschritt}$: 1 Stunde\\

\subsection{Komponenten}
\label{subsec:default_components}
\subsubsection{Netzanschluss}
\label{subsubsec:default_grid}
$c^{Netz}_{Invest}$: 200 €/kW\\
$co2^{Netz}_{Invest}$: 0,0 kg/kW\\
$co2^{Netz}_{Betrieb}$: 0.400 kg/kWh\\
$ls^{Netz}$: 18 Jahre\\

\subsubsection{PV-Anlage}
\label{subsubsec:default_pv}
$c^{PV}_{Invest}$: 900 €/kWp\\
$co2^{PV}_{Invest}$: 798,0 kg/kWp\\
$ls^{PV}$: 18 Jahre\\

\subsubsection{Stationärspeicher}
\label{subsubsec:default_ess}
$c^{Speicher}_{Invest}$: 450 €/kWh\\
$co2^{Speicher}_{Invest}$: 69,0 kg/kWh\\
$ls^{Speicher}$: 9 Jahre\\

\subsubsection{Ladeinfrastruktur}
\label{subsubsec:default_ci}
\textbf{AC-Ladepunkte}\\
$CO2^{Ladepunkt, AC}_{Invest}$: 65,4 kg\\
$ls^{SLadepunkt, AC}$: 6 Jahre\\

\textbf{DC-Ladepunkte}\\
$CO2^{Ladepunkt, DC}_{Invest}$: 6520 kg\\
$ls^{SLadepunkt, DC}$: 6 Jahre\\

\subsubsection{Flotte}
$co2^{Diesel}$: 3,08 kg CO2-eq./l\\

\label{subsubsec:default_fleet}
\textbf{Schwere Lkw}\\
$S_{Batterie}$: 480 kWh\\
$CO2^{Fahrzeug, BEV}_{Invest}$: 84600 kg\\
$CO2^{Fahrzeug, ICEV}_{Invest}$: 54000 kg\\
$c^{BEV}_{Maut}$: 0,0 €/km\\
$c^{ICEV}_{Maut}$: 0,269 €/km\\
$c^{BEV}_{Wartung}$: 0,1324 €/km\\
$c^{ICEV}_{Wartung}$: 0,185 €/km\\
$v^{ICEV}$: 27 l/100km\\
$ls$: 6 Jahre\\

\textbf{Schwerer Verteilverkehr}\\
$S_{Batterie}$: 400 kWh\\
$CO2^{Fahrzeug, BEV}_{Invest}$: 59000 kg\\
$CO2^{Fahrzeug, ICEV}_{Invest}$: 31200 kg\\
$c^{BEV}_{Maut}$: 0,0 €/km\\
$c^{ICEV}_{Maut}$: 0,242 €/km\\
$c^{BEV}_{Wartung}$: 0,1324 €/km\\
$c^{ICEV}_{Wartung}$: 0,185 €/km\\
$v^{ICEV}$: 23 l/100km\\
$ls$: 6 Jahre\\

\textbf{Urbaner Verteilverkehr}\\
$S_{Batterie}$: 160 kWh\\
$CO2^{Fahrzeug, BEV}_{Invest}$: 26700 kg\\
$CO2^{Fahrzeug, ICEV}_{Invest}$: 16200 kg\\
$c^{BEV}_{Maut}$: 0,0 €/km\\
$c^{ICEV}_{Maut}$: 0,137 €/km\\
$c^{BEV}_{Wartung}$: 0,1051 €/km\\
$c^{ICEV}_{Wartung}$: 0,1577 €/km\\
$v^{ICEV}$: 19 l/100km\\
$ls$: 6 Jahre\\

\textbf{Lieferwagen}\\
$S_{Batterie}$: 81 kWh\\
$CO2^{Fahrzeug, BEV}_{Invest}$: 13870 kg\\
$CO2^{Fahrzeug, ICEV}_{Invest}$: 8622 kg\\
$c^{BEV}_{Maut}$: 0,0 €/km\\
$c^{ICEV}_{Maut}$: 0,0 €/km\\
$c^{BEV}_{Wartung}$: 0,0275 €/km\\
$c^{ICEV}_{Wartung}$: 0,0339 €/km\\
$v^{ICEV}$: 15 l/100km\\
$ls$: 6 Jahre\\


\section{Quellen}
\bibliographystyle{plain}
\bibliography{references}

\end{document}
